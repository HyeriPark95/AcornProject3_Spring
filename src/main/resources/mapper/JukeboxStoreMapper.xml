<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project.cy.JukeboxStoreMapper">

    <select id="All" resultType="JukeboxStore">
        select mu_code,mu_img,mu_title,mu_artist from cy_music
    </select>
    
    <select id="AllSearch" resultType="JukeboxStore">
        <!-- select mu_img,mu_title,mu_artist from cy_music where mu_title='${mu_title}' -->
        select mu_code,mu_img,mu_title,mu_artist from cy_music where mu_title like '%${mu_title}%'
    </select>
    
    <insert id="insert" parameterType="Jukebox">
      insert into cy_mymusic
      	(mu_code,m_id) 
      VALUES
      	(#{mu_code},#{m_id})
    </insert>
    
    <select id="Myjuke" resultType="Myjukebox">
        select mu.mu_code, mu.mu_title ,mu.mu_artist, mu.mu_genre, mu.mu_date, mu.mu_img, mu.mu_url, mm.m_id, mm.mm_in 
		from cy_music mu 
		join cy_mymusic mm 
		on mu.mu_code = mm.mu_code 
		where m_id=#{m_id}
    </select>

    
</mapper>